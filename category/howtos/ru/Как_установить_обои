[[Category:Русский / Russian howtos]]
==Как установить обои чтобы работала прозрачность==
__TOC__

===Что такое fbsetbg и зачем он мне?===
fbsetbg - это скрипт, который пытается найти подходящее приложение и установить с его помощью обои. В настройке не нуждается, так как использует первое найденное. 

Также запоминает последние установленные обои, так что вам не придется править файл стиля или init для этого.

Старается выводить четкие сообщения об ошибках, что облегчает поиск источника проблемы.

===Ищем подходящий инструмент===

Для начала, надо убедиться, что fbsetbg нашел подходящую программу для установки обоев, для этого откройте терминал и наберите:
    
    fbsetbg -i

Если у вас установлена одна из поддерживаемых программ, то вы получите в ответ нечто подобное:
    
    Esetroot is a nice wallpapersetter. You won't have any problems.

Если не установлена, то сообщение будет подобным этому:
    display doesn't set the wallpaper properly. Transparency for fluxbox
    and apps like aterm and xchat won't work right with it. Consider 
    installing feh, wmsetbg (from windowmaker) or Esetroot (from Eterm) and
    I'll use them instead.

    display не способен установить обои правильно. Прозрачность в Fluxbox 
    и таких программах как aterm и xchat не будет работать. Установите 
    feh, wmsetbg (из windowmaker) или Esetroot (из Eterm), и я использую их.


===Установка обоев из стиля===

Со времен версии Fluxbox 0.9.15 команда rootCommand была удалена из стилей, однако до сих пор работает в init файле. Чтобы установить обои из стиля, вы должны использовать следующие конструкции:

   background: centered|aspect|tiled|fullscreen|random|solid|gradient <texture>|mod|none
   background.pixmap: <file or directory>
   background.color: <color>
   background.colorTo: <color>
   background.modX: <integer>
   background.modY: <integer>

При использовании опций centered, aspect, tiled или fullscreen, 'background.pixmap' должно содержать полный путь к изображению. 
При использовании random, в 'background.pixmap' указывается директория, содержащая изображения. 
Для установки заливки цветом необходимо указать цвет в 'background.color'. Для градиентов (более подробно описаных в 'man fbsetroot') необходимо указать и 'background.color', и 'background.colorTo'.
'background.modX' и 'background.modY' специфичны для опции 'mod' (также описаной в 'man fbsetroot'), для которой также требуются 'background.color' и 'background.colorTo'.

===Прозрачность не работает, что делать?===

fbsetbg может использовать следуюющие программы для установки обоев:
 Esetroot
 wmsetbg
 feh
 hsetroot
 chbg
 display
 qiv
 xv
 xsri
 xli
 xsetbg

По порядку: первый самый лучший, последний худший. Так что, для того, чтобы все работало, установите что нибудь из верхней части списка. Многие на #fluxbox советуют маленький и удобный '''feh''', но '''Esetroot''' (из пакета Eterm) тоже хороший выбор.

===Полезные советы===


'''1. Установка обоев при запуске'''

С версии 0.9.15 в Fluxbox появилась новая возможность: '''Overlay'''.
Чтобы ее использовать, создайте файл ~/.fluxbox/overlay, и убедитесь, что в вашем init файле есть строка
   session.styleOverlay: ~/.fluxbox/overlay
Файл overlay может быть использован для установки любых опций стиля, как описаный выше 'background'.


'''2. Установка обоев при запуске другим способом'''

Если вы не хотите, чтобы устанавливались обои прописанные в стиле, и хотите чтобы fbsetbg запоминал последние установленные вами обои, добавьте в ~/.fluxbox/init :
 session.screen0.rootCommand:    fbsetbg -l

Затем в ручную установите один раз обои с помощью fbsetbg. Ссылка на обои будет сохранена в файле ~/.fluxbox/lastwallpaper, который используется ключом -l.